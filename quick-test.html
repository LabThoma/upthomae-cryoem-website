<!DOCTYPE html>
<html>
  <head>
    <title>Quick API Test</title>
  </head>
  <body>
    <h1>Quick API Test</h1>
    <button onclick="testHealth()">Test Health</button>
    <button onclick="testSamples()">Test Samples</button>
    <div
      id="result"
      style="
        white-space: pre-wrap;
        margin-top: 20px;
        padding: 10px;
        background: #f5f5f5;
      "
    ></div>

    <script>
      async function testEndpoint(url, method = "GET") {
        try {
          console.log(`Testing: ${method} ${url}`);
          const response = await fetch(url, {
            method: method,
            headers: {
              "Content-Type": "application/json",
            },
          });

          console.log("Response status:", response.status);
          console.log("Response headers:", response.headers);

          const text = await response.text();
          console.log("Raw response:", text);

          try {
            const json = JSON.parse(text);
            return { status: response.status, data: json, raw: text };
          } catch (e) {
            return {
              status: response.status,
              error: "JSON Parse Error",
              raw: text,
            };
          }
        } catch (error) {
          return { error: error.message };
        }
      }

      async function testHealth() {
        const result = await testEndpoint("/api/health");
        document.getElementById("result").textContent =
          "Health test result:\n" + JSON.stringify(result, null, 2);
      }

      async function testSamples() {
        const result = await testEndpoint("/api/samples");
        document.getElementById("result").textContent =
          "Samples test result:\n" + JSON.stringify(result, null, 2);
      }
    </script>
  </body>
</html>
